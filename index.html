<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/src/assets/index.css" />
    <title>Bark & Meow Match</title>
  </head>
  <body>
    <div class="title-section">
    <h1>Welcome to Bark & Meow Match</h1>
    </div>

    <div class="middle-section"> </div>
    
    <select id="petType">
        <option value="">Select a pet type</option>
        <option value="dog">Dog</option>
        <option value="cat">Cat</option>
        <option value="rabbit">Rabbit</option>
        <option value="bird">Bird</option>
    </select>
    
    <input type="number" id="pageNumber" value="1" min="1" placeholder="Page number">
    
    <button onclick="searchPets()">Search Pets</button>
    
    <div id="results"></div>

    <script>
        async function searchPets() {
            const petType = document.getElementById('petType').value;
            const pageNumber = document.getElementById('pageNumber').value || 1;
            const resultsDiv = document.getElementById('results');
            
            if (!petType) {
                resultsDiv.innerHTML = 'Please select a pet type.';
                return;
            }
            
            const apiUrl = `https://api.petfinder.com/v2/animals?type=${petType}&page=${pageNumber}`;
            
            try {
                const response = await fetch(apiUrl, {
                    method: 'GET',
                    headers: {
                        'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiJIVVJ1WXFJOW1UUTJPUEJIbUEzU0RrQnBCZGg0MXdiclVDOEswNzRwdFMzWVc5ZHEzZSIsImp0aSI6ImY5OTBkOTE0Nzg0ZDcwNTY4M2M2YjQwMTMwZTcwZDg4YThmZTdlNzY1NzMxMDgwZjYyNDcwMGNhNTJmMzU5MzBlOTQ0YzhkMzcxMGQ0ZGEyIiwiaWF0IjoxNzU5MTA1NTI2LCJuYmYiOjE3NTkxMDU1MjYsImV4cCI6MTc1OTEwOTEyNiwic3ViIjoiIiwic2NvcGVzIjpbXX0.Kz5nMQYRQLTjASob8gdnGhfSTbmC1RrsbsGFsOBcKvMzsMJH7ciApz0xccgZOgthIMFAexx1-mTQlWUAOf4ownWQ7IJQjun-ePU3s8HFjMS5lX_x6GfoD5hnOdftwM5c0IOhS7b9e4vfFsn6gksQICTo0Twlrh5iOQXPmYrUAcRvXf1lmPiB3q580BnMSXE5PDOHs3F9DpAS-Qs4H_0iu76lQIWNw_Addd4u8RI6Nbu4KVoVWBHFqXpgnkUAjmhHKK2TF_v-6fybi05hHZ6MtLaTQIEW0_aeYAQrpB0Q0WvYKFBp5J6Gx7tQkg7ZK_EgwORBUwN4XLoeACgRkbcmvQ'
                    }
                });
                
                const data = await response.json();
                displayAnimals(data.animals);
                
            } catch (error) {
                resultsDiv.innerHTML = 'Error: ' + error.message;
            }
        }
        
        function displayAnimals(animals) {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '';
            
            if (!animals || animals.length === 0) {
                resultsDiv.innerHTML = 'No pets found.';
                return;
            }
            
            animals.forEach(animal => {
                const card = document.createElement('div');
                card.innerHTML = `
                    <h3>${animal.name}</h3>
                    <p>${animal.breeds.primary}</p>
                    <p>${animal.age} - ${animal.gender}</p>
                    <button onclick="toggleDetails(${animal.id})">Show Details</button>
                    <div id="details-${animal.id}" style="display:none;">
                        <pre>${JSON.stringify(animal, null, 2)}</pre>
                    </div>
                `;
                resultsDiv.appendChild(card);
            });
        }
        
        function toggleDetails(id) {
            const detailsDiv = document.getElementById(`details-${id}`);
            if (detailsDiv.style.display === 'none') {
                detailsDiv.style.display = 'block';
            } else {
                detailsDiv.style.display = 'none';
            }
        }

      
        
    </script>

    <div id="image-container" data-mouse-down-at="0" data-prev-percentage="0">
        <img class=image src="/public/group 15 pic 1.jpg" draggable="false"/>
        <img class=image src="/public/group 15 pic 2.jpg" draggable="false"/>
        <img class=image src="/public/group 15 pic 3.jpg" draggable="false"/>
        <img class=image src="/public/group 15 pic 4.jpg" draggable="false"/>
        <img class=image src="/public/group 15 pic 5.jpg" draggable="false"/>
      </div>

    </div>
    <footer>MADE BY GROUP 15</footer>
     <script type="module" src="/src/main.jsx"></script>
     <script type="module" src="index.js"></script>
  </body>
</html>
